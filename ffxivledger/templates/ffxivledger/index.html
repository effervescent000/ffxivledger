{% extends 'base.html' %}
{% from "_formhelpers.html" import render_field, render_field_no_label %}
{% block header %}

<link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
<script src="{{ url_for('static', filename='dashboard.js') }}"></script>
{% endblock header %}
{% block content %}
<div class="spacer-60"></div>
<div id="content-wrapper">
    <div id="left-content-wrapper">
        <div id="stock-label">
            <span>Current stock</span>
        </div>
        <div id="stock-frame">
            <script>
                loadStockFrame();
            </script>
        </div>
    </div>
    <div id="center-content-wrapper">
        <div id="crafting-wrapper">
            <div id="crafting-input-wrapper">
                <select id="crafting-amount">Select amount to craft
                    <option value="1">1</option>
                    <option value="3">3</option>
                    <option value="5">5</option>
                    <option value="10">10</option>
                </select>
                <button onclick="getCraftQueue(document.getElementById('crafting-amount').value)">Generate queue</button>
            </div>
            <div id="crafting-output-wrapper"></div>
        </div>
    </div>
    <div id="right-content-wrapper">
        <div id="item-form">
            <div class="entry-forms-wrapper">
                {{ render_field(form.item) }}
                {{ render_field(form.amount) }}
                {{ render_field(form.gil_value) }}
            </div>
            <div class="buttons-wrapper">
                <div class="button">
                    <button id="sale-btn">Add sale</button>
                </div>
                <div class="button">
                    <button id="purchase-btn">Add purchase</button>
                </div>
                <div class="button">
                    <button id="view-item-btn">View data</button>
                </div>
                <div class="button">
                    <button id="remove-stock-btn">Remove stock</button>
                </div>
                <div class="button">
                    <button id="add-stock-btn">Add stock</button>
                </div>
                <div class="button">
                    <button id="view-recipes-btn">View recipes</button>
                </div>
            </div>
        </div>
        <div id="log-frame-wrapper">
            <div id="log-wrapper">
                <textarea id="log" readonly>I don't know what to put here</textarea>
            </div>
            <div id="log-buttons">
                <button>Clear log</button>
            </div>
        </div>
    </div>
</div>
<script>
    document
        .getElementById("sale-btn")
        .addEventListener("click", (event) => addSale());
    document.getElementById("purchase-btn").addEventListener("click", (event) => addPurchase());
    document.getElementById("remove-stock-btn").addEventListener("click", (event) => removeStock());
    document.getElementById("add-stock-btn").addEventListener("click", (event) => addStock())
</script>
{% endblock content %}