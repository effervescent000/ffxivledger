{% extends 'base.html' %}
{% from "_formhelpers.html" import render_field, render_field_no_label %}
{% block header %}

<link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
<script src="{{ url_for('static', filename='dashboard.js') }}"></script>
{% endblock header %}
{% block content %}
<div class="spacer-60"></div>
<div id="content-wrapper">
    <div id="left-content-wrapper">
        <div id="stock-label">
            <span>Current stock</span>
        </div>
        <div id="stock-frame">
            <script>
                loadStockFrame();
            </script>
        </div>
    </div>
    <div id="center-content-wrapper">
        <div id="crafting-wrapper">
            <div id="crafting-input-wrapper">
                <select id="crafting-amount">Select amount to craft
                    <option value="1">1</option>
                    <option value="3">3</option>
                    <option value="5">5</option>
                    <option value="10">10</option>
                </select>
                <button onclick="getCraftQueue(document.getElementById('crafting-amount').value)">Generate queue</button>
            </div>
            <div id="crafting-output-wrapper"></div>
        </div>
    </div>
    <div id="right-content-wrapper">
        <div id="item-form">
            <div class="entry-forms-wrapper">
                {{ render_field(form.item) }}
                {{ render_field(form.amount) }}
                {{ render_field(form.gil_value) }}
            </div>
            <div class="buttons-wrapper">
                <div class="button">
                    <button id="sale-btn">Add sale</button>
                </div>
                <div class="button">
                    {{ render_field_no_label(form.purchase_button) }}
                </div>
                <div class="button">
                    {{ render_field_no_label(form.view_button) }}
                </div>
                <div class="button">
                    {{ render_field_no_label(form.remove_stock_button) }}
                </div>
                <div class="button">
                    {{ render_field_no_label(form.add_stock_button) }}
                </div>
                <div class="button">
                    {{ render_field_no_label(form.view_recipes_button) }}
                </div>
            </div>
        </div>
        <div id="log-frame-wrapper">
            <div id="log-wrapper">
                <textarea id="log" readonly>I don't know what to put here</textarea>
            </div>
            <div id="log-buttons">
                <button>Clear log</button>
            </div>
        </div>
    </div>
</div>
<script>
    // event listeners
    document.getElementById("sale-btn").addEventListener('click', (event) => addSale())
</script>
{% endblock content %}